import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, boolean, number, text } from "@storybook/addon-knobs";
import { withA11y } from '@storybook/addon-a11y';
import { withActions, actions } from '@storybook/addon-actions';

import SearchBar from '../../components/SearchBar';

<Meta
    title="SearchBar"
    component={SearchBar}
    decorators={[withKnobs, withA11y]}
    parameters={{
        a11y: {
            // ... axe options
            element: '.usa-dt-search-bar', // optional selector which element to inspect
            config: {}, // axe-core configurationOptions (https://github.com/dequelabs/axe-core/blob/develop/doc/API.md#parameters-1)
            options: {} // axe-core optionsParameter (https://github.com/dequelabs/axe-core/blob/develop/doc/API.md#options-parameter)
        }
    }}
/>

## This is Designed to be a [Controlled Component](https://reactjs.org/docs/forms.html#controlled-components)
This means the component relies on its parent to pass the following props:
 - `onSearch`: A function that will pass the search term to it's parent component.
 
### Props:
 - `onSearch`: A function that will pass the search term to it's parent component.
 - `minChars`: A number that will serve as the minimum number of characters to submit a search.
 - `isDisabled`: A boolean that will decide whether to disable the input.
 - `throttleOnChange`:  A number in milliseconds that only invokes onChange at most once per every milliseconds.
 - `inputTitle`: A string that will serve as the input title.

<Preview>
    <Story name='SearchBar'>
        <SearchBar
            setQuery={(searchTerm) => console.log(searchTerm)}
            minChars={number('minChars', 2)}
            isDisabled={boolean('isDisabled', false)}
            throttleOnChange={number('throttleOnChange', 500)}
            inputTitle={text('inputTitle', 'Search Input')} />
    </Story>
</Preview>

<Props of={SearchBar} />

## Integration Status
Answers the question, where is this component used?

### USASpending
- [x] COVID-19 Page
